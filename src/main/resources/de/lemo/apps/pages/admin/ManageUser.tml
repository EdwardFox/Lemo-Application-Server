<html t:type="layoutdashboardAdmin" title="LeMo | ${message:dashboardTitle}"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd"
      xmlns:p="tapestry:parameter">
     
      <script>
			
			function setConfirmation(bool) {
				 var confirm = document.getElementById("deleteUserConfirmation");
				 if (bool) {
				 	confirm.style.visibility="visible";
				 }
				 else {				 
				 	confirm.style.visibility="hidden";
				 }
			}
			
			function expandCourseSearch(bool) {
				var search = document.getElementById("CourseSearch");
				if (bool) {
				 	search.classed("collapse",true);
				 }
				 else {				 
				 	search.classed("collapse",false);
				 }
			}
			
			
</script>    
     
	 <!-- Breadcrumb component-->
	<div class="row-fluid">
        <div class="span12">
    	<ul class="breadcrumb">
  			<li t:type="crumb/breadcrumbtrail" t:value="breadCrumb">
    			<a t:type="crumb/displaybreadcrumb" t:breadcrumb="breadCrumb" />
  			</li>
		</ul>
		</div>
	</div>
	
   <!-- <div class="alert alert-success">
         <a class="close">&times;</a>
       	 <h2>${message:welcomeDashboard}</h2>    	 
    </div>
	-->
    
    <div class="row-fluid">
    <section class="thumbnails">
    	<div class="span12">
    		<div class="thumbnail">
		    	
		    	<div class="tabbable">
					<ul class="nav nav-tabs">
						<li class="active"><a href="#" data-toggle="tab"><div id="widget1"><h5>User Details: ${user?.username} </h5></div></a></li>
					</ul>
		    	</div>
				<div class="row-fluid">
					<div class="span1">
					</div>
					<div class="span7">
						<div>
						
<!-- 							<br /> -->
<!-- 							<br /> -->
<!-- 						    Current user: -->
<!-- 	    					 <t:beandisplay object="userItem" exclude="password" add="courseAmount"> -->
<!--             					<p:courseamountCell>	 -->
<!--             						${userCourses?.size()} -->
<!--             					</p:courseamountCell> -->
<!--        						 </t:beandisplay> -->
	
							<div>
								<form t:id="accountform" class="well  pull-left">
							    	<t:beaneditor t:id="editor" object="userItem" >
								    	<p:username>
	                                		<t:label for="username" />
	                                			<input t:type="TextField" t:id="username" value="userItem.username" 
	                                        	disabled="true" />
	                        			</p:username>
                        			</t:beaneditor>
							    	<br />							    	
							    	<button type="submit" class="btn btn-primary pull-right">${message:saveChanges}</button>
							    	<div class="pull-right">&nbsp;&nbsp;</div>							    					            	
									<p class="btn btn-danger pull-right" onclick="setConfirmation(true);">${message:deleteUser}</p>
							    	<div class="pull-right">&nbsp;&nbsp;</div>		
							    	<t:pagelink page="data/dashboardadmin" class="btn pull-right">${message:cancel}</t:pagelink>	
									
							    </form>	
							 </div>
							
       						 <br />
       						 <br />
       				
    					
    					</div>
					</div>
					
					 <div class="span4" id="deleteUserConfirmation" style="visibility:hidden">
					 	<div class="alert alert-error pull-left" style="padding-right:14px;">
					 		<div class="pull-left">
								<br/>
								<p class="pull-left">${DeleteString}</p>
								<br/>
								<t:actionlink t:id="delete" class="btn btn-danger pull-right">${message:Yes}</t:actionlink>
								<div class="pull-right">&nbsp;&nbsp;</div>							    					            	
								<button type="submit" class="btn btn-primary pull-right" onclick="setConfirmation(false);">${message:No}</button>
							</div>
						</div>
					</div>	
									
					
				</div>
				
				<div class="row-fluid">
				
					<div class="span1">
					</div>	
					
					
				</div>
							
				<div class="row-fluid">
					<div class="span1">
					</div>
					<div class="span11">
						<div class="well">							
						 <button class="btn btn-primary pull-left accordion-toggle" data-toggle="collapse" href="#collapseOne">${message:AddCourse}</button>
						 <br/>
						 <br/>
						 <br/>
						 <div id="collapseOne" class="accordion-body collapse">
						 <div class="accordion-inner" style="border-top:none">
						 	<input class="pull-left" placeholder="course id or name"></input>						 	
							<div class="pull-left">&nbsp;&nbsp;</div>	
						 	<t:actionlink t:id="search" class="btn btn-primary pull-left">${message:SearchCourse}</t:actionlink>				 	
							<div class="pull-left">&nbsp;&nbsp;</div>		
							<button class="btn pull-left accordion-toggle" data-toggle="collapse" href="#collapseOne">${message:cancel}</button>
						 	
						 	<br/>				 	
						 	<br/>
						 	<br/>
						 	<br/>
						 	
						 	<t:if test="searchCourses">
						 	<t:grid source="searchCourseList" row="courseItem" exclude="maxparticipants,needupdate,dataversion" >
	       						<p:empty>
	              					<div><p>There are no courses associated with this user</p></div>
	            				</p:empty>
	        				</t:grid>
	        				<br/>				 	
						 	<br/>
						 	<br/>
						 	<br/>
	        				</t:if>
	        				
						 
							</div>
						 </div>
						 <t:grid source="userCourses" row="courseItem" exclude="maxparticipants,needupdate,dataversion" >
	       							 <p:empty>
	              						<div><p>There are no courses associated with this user</p></div>
	            					</p:empty>
	        					</t:grid>
	        					
						</div>
					</div>
					<div class="span1">
					
					
						
						
						
					</div>
				</div>
			</div>
   		</div>

 
   </section>
  </div>  

	     
     

     

</html>